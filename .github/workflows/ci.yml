name: 'â–¶ï¸ CI/CD'

on: [push, workflow_dispatch]

jobs:
  lint-test:
    name: Check lint test
    # if: contains( github.ref, 'development')
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: install node dependencies & check lint convention
      # - run: echo "ğŸ¨ Running Lint script" && cd api && npm install && npm run lint
      - run: |
          echo "âœ… Running lint scripts"
          cd api
          npm install
          npm run test
          echo "âœ… hurray, application follows standard convention"

  unit-test:
    name: Check Unit test
    if: contains( github.ref, 'staging')
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: install node dependencies & check lint convention
      - run: |
          echo "âœ… Running automatic test scripts"
          cd api
          npm install
          npm run test
          echo "âœ… hurray, application is bug free"
