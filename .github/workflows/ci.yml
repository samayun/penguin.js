name: '▶️ CI/CD'

on: [push, workflow_dispatch]

jobs:
  lint-test:
    name: Check lint test
    # if: contains( github.ref, 'development')
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: install node dependencies & check lint convention
      - run: echo "🎨 Running Lint script" && cd api && npm install && npm run lint

  unit-test:
    name: Check lint test
    if: contains( github.ref, 'staging')
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: install node dependencies & check lint convention
      - run: |
          echo "✅ Running automatic test scripts
          cd api
          npm install
          npm run test
          echo "✅ hurray, application is bug free
